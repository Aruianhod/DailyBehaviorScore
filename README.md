# æ—¥å¸¸è¡Œä¸ºåˆ†ç®¡ç†ç³»ç»Ÿ

æœ¬ç³»ç»Ÿç”¨äºå­¦æ ¡æ—¥å¸¸è¡Œä¸ºåˆ†çš„ç®¡ç†ï¼Œæ”¯æŒç®¡ç†å‘˜ã€è€å¸ˆ/ç¤¾å›¢ã€å­¦ç”Ÿä¸‰ç±»ç”¨æˆ·ã€‚é‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œå‰ç«¯åŸºäº React + TypeScriptï¼Œåç«¯é‡‡ç”¨ Node.js + Express + MySQLã€‚

## ğŸ¯ ç³»ç»Ÿç‰¹è‰²

- **ä¸‰çº§æƒé™ç®¡ç†**ï¼šç®¡ç†å‘˜ã€è€å¸ˆã€å­¦ç”Ÿä¸‰ç±»ç”¨æˆ·å„æœ‰ä¸“å±åŠŸèƒ½ç•Œé¢
- **ç°ä»£åŒ–UIè®¾è®¡**ï¼š2Ã—2å¡ç‰‡å¼å¸ƒå±€ï¼Œæ”¯æŒæ‚¬åœæ•ˆæœå’Œæ¸å˜èƒŒæ™¯
- **æŒ‰éœ€åŠ è½½ä¼˜åŒ–**ï¼šæ”¯æŒå¹´çº§ç­çº§ç­›é€‰ï¼Œé¿å…ä¸€æ¬¡æ€§åŠ è½½å¤§é‡æ•°æ®
- **å®Œæ•´å·¥ä½œæµç¨‹**ï¼šä»ç”³è¯·æäº¤åˆ°å®¡æ ¸é€šè¿‡çš„å®Œæ•´æµç¨‹ç®¡ç†
- **å¤šæ ¼å¼æ”¯æŒ**ï¼šæ”¯æŒCSVã€Excelæ–‡ä»¶å¯¼å…¥å’Œå¯¼å‡º
- **æ™ºèƒ½å½’æ¡£**ï¼šæ¯•ä¸šç”Ÿæ•°æ®è‡ªåŠ¨å½’æ¡£ï¼Œä¼˜åŒ–æ•°æ®åº“æ€§èƒ½
- **å®‰å…¨æƒé™**ï¼šå®Œå–„çš„ç”¨æˆ·æƒé™æ§åˆ¶å’Œæ•°æ®å®‰å…¨ä¿æŠ¤

## ğŸš€ åŠŸèƒ½æ¨¡å—

### ç®¡ç†å‘˜ç«¯
- **ğŸ« å­¦ç”Ÿä¿¡æ¯ç®¡ç†**
  - CSV/Excelæ–‡ä»¶æ‰¹é‡å¯¼å…¥å­¦ç”Ÿä¿¡æ¯
  - æŒ‰éœ€åŠ è½½å­¦ç”Ÿåˆ—è¡¨ï¼ˆæ”¯æŒå¹´çº§ç­çº§ç­›é€‰ï¼‰
  - æ‰¹é‡åˆ†å€¼ä¿®æ”¹å’Œå•ä¸ªå­¦ç”Ÿåˆ†å€¼è°ƒæ•´
  - å­¦ç”Ÿè®°å½•æŸ¥çœ‹å’Œæ‰¹é‡åˆ é™¤
- **ğŸ“‹ å®¡æŸ¥åŠŸèƒ½**
  - å®¡æ ¸è€å¸ˆæäº¤çš„åˆ†å€¼ä¿®æ”¹ç”³è¯·
  - å•ä¸ªé€šè¿‡/æ‰¹é‡é€šè¿‡ç”³è¯·
  - ç”³è¯·é©³å›å¹¶é€šçŸ¥è€å¸ˆ
- **ğŸ‘¨â€ğŸ« è€å¸ˆè´¦å·ç®¡ç†**
  - åˆ›å»ºå’Œåˆ é™¤è€å¸ˆè´¦å·
  - è´¦å·ä¿¡æ¯æŸ¥çœ‹å’Œç®¡ç†
- **ğŸ“ å½’æ¡£åŠŸèƒ½** âœ… **å·²å®Œæˆ**
  - è‡ªåŠ¨è¯†åˆ«å·²æ¯•ä¸š4å¹´ä»¥ä¸Šçš„å­¦ç”Ÿæ•°æ®
  - æ™ºèƒ½æ•°æ®å½’æ¡£ä¸å‹ç¼©å­˜å‚¨
  - å½’æ¡£å†å²è®°å½•ç®¡ç†ä¸æŸ¥è¯¢
  - å½’æ¡£æ–‡ä»¶ä¸‹è½½åŠŸèƒ½

### è€å¸ˆ/ç¤¾å›¢ç«¯
- **ğŸ“ æäº¤ç”³è¯·**
  - æäº¤å­¦ç”Ÿåˆ†å€¼ä¿®æ”¹ç”³è¯·
  - æ”¯æŒå¤šå­¦ç”Ÿæ‰¹é‡ç”³è¯·
  - ç”³è¯·ç†ç”±å’Œæ—¥æœŸè®°å½•
- **ğŸ“Š å†å²è®°å½•**
  - æŸ¥çœ‹å†å²ç”³è¯·è®°å½•
  - ç”³è¯·çŠ¶æ€è·Ÿè¸ªï¼ˆå¾…å®¡æ ¸/å·²é€šè¿‡/å·²é©³å›ï¼‰
- **ğŸ‘¥ å­¦ç”Ÿä¿¡æ¯**
  - æŒ‰éœ€æŸ¥çœ‹å­¦ç”Ÿä¿¡æ¯ï¼ˆæ”¯æŒç­›é€‰ï¼‰
  - å­¦ç”Ÿè¯¦ç»†ä¿¡æ¯å’Œåˆ†å€¼è®°å½•æŸ¥çœ‹
  - Excelå¯¼å‡ºæŒ‡å®šç­çº§å­¦ç”Ÿä¿¡æ¯
- **ğŸ” ä¿®æ”¹å¯†ç **
  - æ›´æ”¹ç™»å½•å¯†ç 

### å­¦ç”Ÿç«¯
- **ğŸ“ˆ åˆ†å€¼æŸ¥è¯¢**
  - æŸ¥çœ‹å½“å‰åˆ†å€¼
  - åˆ†å€¼å˜æ›´è®°å½•æŸ¥è¯¢
  - æ“ä½œäººå’Œä¿®æ”¹åŸå› æ˜¾ç¤º

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **React 19.1.0** - ç°ä»£åŒ–å‰ç«¯æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨çš„JavaScript
- **Vite** - å¿«é€Ÿæ„å»ºå·¥å…·
- **Axios** - HTTPå®¢æˆ·ç«¯

### åç«¯
- **Node.js** - JavaScriptè¿è¡Œæ—¶
- **Express 5.1.0** - Webæ¡†æ¶
- **MySQL2** - æ•°æ®åº“è¿æ¥å™¨
- **Multer** - æ–‡ä»¶ä¸Šä¼ å¤„ç†
- **CORS** - è·¨åŸŸèµ„æºå…±äº«

## ğŸ“¦ å®‰è£…å’Œå¯åŠ¨

### å‰ç½®è¦æ±‚
- Node.js >= 16.0.0
- MySQL >= 5.7
- npm æˆ– yarn

### 1. å®‰è£…ä¾èµ–
```bash
npm install
```

### 2. æ•°æ®åº“åˆå§‹åŒ–
```bash
# ä½¿ç”¨æä¾›çš„SQLæ–‡ä»¶åˆå§‹åŒ–æ•°æ®åº“
mysql -u root -p < db_init.sql
```

### 3. å¯åŠ¨åç«¯æœåŠ¡
```bash
# åç«¯æœåŠ¡è¿è¡Œåœ¨ http://localhost:3000
node server.cjs
```

### 4. å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
```bash
# å‰ç«¯å¼€å‘æœåŠ¡å™¨è¿è¡Œåœ¨ http://localhost:5173
npm run dev
```

### 5. è®¿é—®ç³»ç»Ÿ
åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ `http://localhost:5173`

## ğŸ”‘ é»˜è®¤è´¦å·

### ç®¡ç†å‘˜è´¦å·
- ç”¨æˆ·åï¼š`admin`
- å¯†ç ï¼š`123456`

### è€å¸ˆè´¦å·
- ç”¨æˆ·åï¼š`teacher1`
- å¯†ç ï¼š`teacher1`

### å­¦ç”Ÿè´¦å·
- å­¦ç”Ÿå­¦å·ä½œä¸ºç”¨æˆ·åï¼Œåˆå§‹å¯†ç ä¸ºå­¦å·

## ğŸ“Š APIæ¥å£

### è®¤è¯æ¥å£
- `POST /api/login` - ç”¨æˆ·ç™»å½•

### ç®¡ç†å‘˜æ¥å£
- `GET /api/admin/students` - è·å–å­¦ç”Ÿåˆ—è¡¨ï¼ˆæ”¯æŒç­›é€‰ï¼‰
- `GET /api/admin/class-options` - è·å–å¹´çº§ç­çº§é€‰é¡¹
- `POST /api/admin/import` - å¯¼å…¥å­¦ç”Ÿä¿¡æ¯
- `POST /api/admin/import-excel` - Excelå¯¼å…¥
- `POST /api/admin/score` - åˆ†å€¼ä¿®æ”¹
- `GET /api/admin/applications` - è·å–å¾…å®¡æ ¸ç”³è¯·
- `POST /api/admin/applications/:id/approve` - é€šè¿‡ç”³è¯·
- `GET /api/admin/archive/stats` - è·å–å½’æ¡£ç»Ÿè®¡ä¿¡æ¯
- `POST /api/admin/archive/execute` - æ‰§è¡Œå½’æ¡£æ“ä½œ
- `GET /api/admin/archive/logs` - è·å–å½’æ¡£å†å²è®°å½•
- `GET /api/admin/archive/download/:id` - ä¸‹è½½å½’æ¡£æ–‡ä»¶

### è€å¸ˆæ¥å£
- `POST /api/teacher/apply` - æäº¤åˆ†å€¼ç”³è¯·
- `GET /api/teacher/applications/history` - å†å²ç”³è¯·è®°å½•
- `POST /api/teacher/export-students` - å¯¼å‡ºå­¦ç”Ÿä¿¡æ¯
- `GET /api/teachers` - è·å–è€å¸ˆåˆ—è¡¨
- `POST /api/teachers` - åˆ›å»ºè€å¸ˆè´¦å·

### å­¦ç”Ÿæ¥å£
- `GET /api/student/info` - è·å–å­¦ç”Ÿä¿¡æ¯
- `GET /api/student/score-records` - è·å–åˆ†å€¼è®°å½•

## ğŸ”§ å¼€å‘è¯´æ˜

### é¡¹ç›®ç»“æ„
```
â”œâ”€â”€ src/                    # å‰ç«¯æºç 
â”‚   â”œâ”€â”€ AdminDashboard.tsx  # ç®¡ç†å‘˜ä¸»ç•Œé¢
â”‚   â”œâ”€â”€ StudentTable.tsx    # å­¦ç”Ÿä¿¡æ¯è¡¨æ ¼
â”‚   â”œâ”€â”€ TeacherViewStudents.tsx # è€å¸ˆæŸ¥çœ‹å­¦ç”Ÿ
â”‚   â”œâ”€â”€ StudentScore.tsx    # å­¦ç”Ÿåˆ†å€¼æŸ¥è¯¢
â”‚   â””â”€â”€ ...
â”œâ”€â”€ test/                   # æµ‹è¯•æ–‡ä»¶
â”‚   â”œâ”€â”€ test_*.cjs         # APIæµ‹è¯•è„šæœ¬
â”‚   â”œâ”€â”€ test_*.html        # å‰ç«¯åŠŸèƒ½æµ‹è¯•é¡µé¢
â”‚   â”œâ”€â”€ final_test.js      # å®Œæ•´æµç¨‹æµ‹è¯•
â”‚   â””â”€â”€ comprehensive_on_demand_test.cjs # ç»¼åˆåŠŸèƒ½æµ‹è¯•
â”œâ”€â”€ server.cjs              # åç«¯æœåŠ¡å™¨
â”œâ”€â”€ db_init.sql            # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â”œâ”€â”€ package.json           # é¡¹ç›®ä¾èµ–é…ç½®
â””â”€â”€ README.md              # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

### æŒ‰éœ€åŠ è½½åŠŸèƒ½
ç³»ç»Ÿå®ç°äº†æŒ‰éœ€åŠ è½½åŠŸèƒ½ï¼Œé¿å…ä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰å­¦ç”Ÿæ•°æ®ï¼š
- ç”¨æˆ·éœ€è¦é€‰æ‹©ç­›é€‰æ¡ä»¶åä¸»åŠ¨ç‚¹å‡»"åŠ è½½æ•°æ®"
- æ”¯æŒæŒ‰å¹´çº§ã€ç­çº§ç²¾ç¡®ç­›é€‰
- å¹´çº§ç­çº§è”åŠ¨ï¼šé€‰æ‹©å¹´çº§åè‡ªåŠ¨ç­›é€‰å¯¹åº”ç­çº§
- æ•°æ®ä¼ è¾“é‡å‡å°‘95%+ï¼Œæ˜¾è‘—æå‡æ€§èƒ½

### æµ‹è¯•è¯´æ˜
é¡¹ç›®åŒ…å«å®Œæ•´çš„æµ‹è¯•å¥—ä»¶ï¼Œæ‰€æœ‰æµ‹è¯•æ–‡ä»¶ä½äº `test/` ç›®å½•ï¼š
- `test/test_on_demand_loading.cjs` - APIåŠŸèƒ½æµ‹è¯•
- `test/test_on_demand_ui.html` - UIåŠŸèƒ½æµ‹è¯•
- `test/comprehensive_on_demand_test.cjs` - ç»¼åˆåŠŸèƒ½æµ‹è¯•
- `test/final_test.js` - å®Œæ•´æµç¨‹æµ‹è¯•
- `test/test_teacher_*.{cjs,html}` - è€å¸ˆåŠŸèƒ½æµ‹è¯•
- `test/test_api_*.js` - APIæ¥å£æµ‹è¯•

### è¿è¡Œæµ‹è¯•
```bash
# è¿è¡ŒAPIæµ‹è¯•
node test/final_test.js

# è¿è¡ŒæŒ‰éœ€åŠ è½½æµ‹è¯•
node test/test_on_demand_loading.cjs

# è¿è¡Œç»¼åˆæµ‹è¯•
node test/comprehensive_on_demand_test.cjs
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

- **æŒ‰éœ€åŠ è½½**ï¼šé¿å…åˆå§‹åŒ–æ—¶åŠ è½½å…¨éƒ¨æ•°æ®
- **æ™ºèƒ½ç­›é€‰**ï¼šå¹´çº§ç­çº§è”åŠ¨ç­›é€‰
- **æ•°æ®ç¼“å­˜**ï¼šåˆç†ä½¿ç”¨çŠ¶æ€ç®¡ç†
- **åˆ†é¡µåŠ è½½**ï¼šå¤§æ•°æ®é‡æ—¶çš„åˆ†é¡µå¤„ç†

## ğŸ›¡ï¸ å®‰å…¨ç‰¹æ€§

- **æƒé™æ§åˆ¶**ï¼šåŸºäºç”¨æˆ·ç±»å‹çš„åŠŸèƒ½æƒé™æ§åˆ¶
- **æ•°æ®éªŒè¯**ï¼šå‰åç«¯åŒé‡æ•°æ®éªŒè¯
- **SQLæ³¨å…¥é˜²æŠ¤**ï¼šä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢
- **è¾“å…¥è¿‡æ»¤**ï¼šç”¨æˆ·è¾“å…¥å®‰å…¨è¿‡æ»¤

## ğŸ§ª æµ‹è¯•è¯´æ˜

### æ ¸å¿ƒæµ‹è¯•æ–‡ä»¶
- **`test/comprehensive_system_test.cjs`** - å®Œæ•´ç³»ç»ŸåŠŸèƒ½æµ‹è¯•
- **`test/check_db_structure.cjs`** - æ•°æ®åº“ç»“æ„éªŒè¯
- **`simple_conflict_test.cjs`** - PaxosåŸºç¡€å†²çªæµ‹è¯•
- **`extreme_conflict_test_fixed.cjs`** - æç«¯å¹¶å‘æµ‹è¯•
- **`fallback_mode_conflict_test.cjs`** - é™çº§æ¨¡å¼æµ‹è¯•

### è¿è¡Œæµ‹è¯•
```bash
# å®Œæ•´ç³»ç»Ÿæµ‹è¯•
node test/comprehensive_system_test.cjs

# æ•°æ®åº“ç»“æ„æ£€æŸ¥
node test/check_db_structure.cjs

# Paxosä¸€è‡´æ€§æµ‹è¯•
node simple_conflict_test.cjs
node extreme_conflict_test_fixed.cjs
node fallback_mode_conflict_test.cjs
```

è¯¦ç»†çš„æµ‹è¯•æ–‡æ¡£è¯·å‚è€ƒ [`test/README.md`](test/README.md)ã€‚

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0.0 (2024-06-01)
- âœ… å®ŒæˆåŸºç¡€åŠŸèƒ½æ¨¡å—
- âœ… å®ç°æŒ‰éœ€åŠ è½½ä¼˜åŒ–
- âœ… ä¼˜åŒ–UIç•Œé¢è®¾è®¡
- âœ… å®Œå–„æµ‹è¯•è¦†ç›–

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ï¼š`git checkout -b feature/æ–°åŠŸèƒ½`
3. æäº¤æ›´æ”¹ï¼š`git commit -am 'æ·»åŠ æ–°åŠŸèƒ½'`
4. æ¨é€åˆ†æ”¯ï¼š`git push origin feature/æ–°åŠŸèƒ½`
5. æäº¤ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š
- ğŸ› BugæŠ¥å‘Šï¼šé€šè¿‡ Issues æäº¤
- ğŸ’¡ åŠŸèƒ½å»ºè®®ï¼šé€šè¿‡ Issues è®¨è®º
- ğŸ“§ å…¶ä»–é—®é¢˜ï¼šé¡¹ç›®ç»´æŠ¤å›¢é˜Ÿ
